<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SlumLink | In Progress Campaign</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="stylesheet" href="./campaign-details.css" />
  <link rel="stylesheet" href="./eligible-families-table.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand" id="brandBtn" role="button" tabindex="0">
      <img src="/src/images/slum Logo.png" alt="SlumLink Logo" class="brand-mark" />
      <div class="brand-text">SLUMLINK</div>
    </div>

    <button class="pill-btn" id="backBtn" type="button">
      <i class="fas fa-arrow-left"></i>
      <span>Back to View Campaigns</span>
    </button>
  </header>

  <main class="container">
    <section class="hero">
      <h1>In Progress Campaign</h1>
      <p>Editable: End Date, Time. Start Date is locked.</p>
    </section>

    <section class="panel">
      <div class="panel-inner">
        <form novalidate>
          <div class="form-grid">
            <div class="field"><label>Title</label><div class="control"><input id="title" disabled></div></div>
            <div class="field"><label>Category</label><div class="control"><input id="category" disabled></div></div>
            <div class="field"><label>Status</label><div class="control"><input id="status" value="in_progress" disabled></div></div>

            <div class="field"><label>Division</label><div class="control"><input id="division" disabled></div></div>
            <div class="field"><label>District</label><div class="control"><input id="district" disabled></div></div>
            <div class="field"><label>Slum Area</label><div class="control"><input id="slumArea" disabled></div></div>

            <div class="field"><label>Start Date</label><div class="control"><input id="startDate" type="date" disabled></div></div>
            <div class="field"><label>End Date</label><div class="control"><input id="endDate" type="date"></div></div>
            <div class="field"><label>Time</label><div class="control"><input id="time" type="time"></div></div>

            <div class="field"><label>Target Gender</label><div class="control"><input id="gender" disabled></div></div>
            <div class="field"><label>Age Group</label><div class="control"><input id="ageGroup" disabled></div></div>

            <div class="field hidden" id="eduField"><label>Required Education</label><div class="control"><input id="education" disabled></div></div>
            <div class="field hidden" id="skillsField"><label>Skills Required</label><div class="control"><input id="skills" disabled></div></div>

            <div class="field span-2"><label>Description</label><div class="control"><textarea id="description" disabled></textarea></div></div>
          </div>

          <div class="actions">
            <button class="primary-btn" id="saveBtn" type="button"><i class="fas fa-save"></i> Save</button>
          </div>
        </form>
      </div>
    </section>

    <!-- âœ… NEW: Eligible Families Section -->
    <section id="eligibleFamiliesContainer"></section>
  </main>

  <div class="toast" id="toast"></div>

  <div class="modal-backdrop hidden" id="confirmModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="confirmTitle" aria-describedby="confirmMessage">
      <h3 id="confirmTitle">Confirm</h3>
      <p id="confirmMessage">Are you sure?</p>
      <div class="modal-actions">
        <button class="pill-btn" id="confirmNo" type="button">No</button>
        <button class="primary-btn" id="confirmYes" type="button">Yes</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
  <script src="./inprogresscampaign.js"></script>
</body>
</html>